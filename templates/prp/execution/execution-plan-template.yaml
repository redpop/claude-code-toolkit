# PRP Execution Plan Template
# This template provides a structured format for blueprint execution plans

execution_plan:
  execution_id: "${EXECUTION_ID}"
  blueprint_id: "${BLUEPRINT_ID}"
  started_date: "${START_DATE}"
  execution_mode: "${EXECUTION_MODE}"  # sequential, parallel

  task_execution:
    - task_id: "${TASK_ID}"
      status: "${TASK_STATUS}"  # ready, in_progress, completed, failed, blocked
      agent: "${ASSIGNED_AGENT}"
      estimated_duration: "${ESTIMATED_DURATION}"
      actual_duration: "${ACTUAL_DURATION}"

      command_sequence:
        - "${COMMAND_1}"
        - "${COMMAND_2}"

      dependencies:
        - "${DEPENDENCY_TASK_ID}"

      progress_tracking:
        started_at: "${START_TIMESTAMP}"
        last_updated: "${UPDATE_TIMESTAMP}"
        completion_percentage: ${COMPLETION_PERCENT}

      quality_validation:
        - gate: "${QUALITY_GATE_NAME}"
          validator: "${VALIDATOR_AGENT}"
          status: "${VALIDATION_STATUS}"  # pending, passed, failed
          criteria:
            - criterion: "${VALIDATION_CRITERION}"
              status: "${CRITERION_STATUS}"
              result: "${VALIDATION_RESULT}"

      issues_encountered:
        - issue: "${ISSUE_DESCRIPTION}"
          severity: "${ISSUE_SEVERITY}"  # low, medium, high, critical
          resolution: "${RESOLUTION_APPROACH}"
          resolved: ${IS_RESOLVED}

      outputs:
        files_created: ["${CREATED_FILE_1}", "${CREATED_FILE_2}"]
        files_modified: ["${MODIFIED_FILE_1}"]
        tests_added: ["${TEST_FILE_1}"]

  real_time_monitoring:
    overall_progress: ${OVERALL_PROGRESS_PERCENT}
    current_phase: "${CURRENT_PHASE}"
    estimated_completion: "${ESTIMATED_COMPLETION_DATE}"

    quality_metrics:
      tests_passing: ${TESTS_PASSING_COUNT}
      tests_failing: ${TESTS_FAILING_COUNT}
      code_coverage: ${COVERAGE_PERCENTAGE}

    performance_metrics:
      build_time: "${BUILD_DURATION}"
      test_execution_time: "${TEST_DURATION}"

    pattern_adherence:
      consistency_score: ${CONSISTENCY_SCORE}
      pattern_violations: ${VIOLATION_COUNT}
      patterns_applied: ["${APPLIED_PATTERN_1}"]

  automated_rollback:
    trigger_conditions:
      - condition: "${ROLLBACK_CONDITION}"
        threshold: "${CONDITION_THRESHOLD}"

    rollback_procedure:
      - step: "${ROLLBACK_STEP}"
        command: "${ROLLBACK_COMMAND}"

    rollback_history:
      - rollback_id: "${ROLLBACK_ID}"
        triggered_at: "${ROLLBACK_TIMESTAMP}"
        reason: "${ROLLBACK_REASON}"
        status: "${ROLLBACK_STATUS}"

  notifications:
    - event: "${NOTIFICATION_EVENT}"
      recipients: ["${RECIPIENT_1}"]
      method: "${NOTIFICATION_METHOD}"  # email, slack, webhook
      template: "${NOTIFICATION_TEMPLATE}"

  final_validation:
    overall_status: "${EXECUTION_STATUS}"  # completed, failed, partial
    success_criteria_met: ${SUCCESS_CRITERIA_MET}

    final_metrics:
      total_duration: "${TOTAL_EXECUTION_TIME}"
      tasks_completed: ${COMPLETED_TASK_COUNT}
      tasks_failed: ${FAILED_TASK_COUNT}
      quality_gates_passed: ${QUALITY_GATES_PASSED}

    deliverables:
      - deliverable: "${DELIVERABLE_NAME}"
        status: "${DELIVERABLE_STATUS}"
        location: "${DELIVERABLE_PATH}"
        validation: "${VALIDATION_RESULT}"

    lessons_learned:
      - lesson: "${LESSON_LEARNED}"
        category: "${LESSON_CATEGORY}"
        impact: "${LESSON_IMPACT}"
        recommendation: "${FUTURE_RECOMMENDATION}"